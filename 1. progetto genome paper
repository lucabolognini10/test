w carte 02scarica git ewindows e visual code open git usando clicca su desktop (spazio è informativo in bioinf) per aprire git bash in visual studio vai in new terminal e seleziona git bash ls (list) comando per lista oggetti mkdir (make directory) sia posizionale (nome doposcritto dopo sarà nome cartella) cd (apre cartella) indica nome cartella da aprire evitare simbolo tilde, indica home, slash indica path flag sono piccole stringhe precedute da dash, inidcano quale informazione vogliamo attivare mkdir -p test1/test2 (-p inidca crea parent se assenti, slash indica creaimo una cartella dentro altra) .. vuol dire indietro, cd da solo torna indietro a home file read me in git hub (questo) è il file che indica cosa c'è dentro, in quello del dottorando c'è lista https://github.com/MirkMart/Lab_CompGeno bash verràusato per costruire outline (input e utput) obiettivo è modificare input per essere leggibili, non faccimao programma invia report git hub per esame (in genome papaer allega link git hub) creare SSH key, non usare ctrl+c ma usa ctrl+shift+c (se no blocca processi) usare stessa mail account git hub ssh-keygen -t ed25519 -C "your_email@example.com" https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent?platform=linux ho salvato chiave in utenti lucabolognini/ssh segui procedura inidcate nella pagina di github dopo aver creato cartella ssh, produci chiave pubblica cd .ssh, ls, cat, e aggiungi chiave al tuo account git hub in settings usa "" per aprire nomi con spazi

(2025 bash) nomachine per collegarsi entra in sangiacomobigea, nuovo desktop, crea sessione personalizzzta, esegui console, creare nuova chiave ssh (nuova macchina a cui siamo collegati)

seleaziona directory (cd) test/ git status

git clone permette di copiare repository
in repository vai su code e seleziona local ssh, e copia
git clone ctrl+v
cosi queloo che facciamo possimao salvarlo online su github

git log
git pull git push
seleziona 5-6 specie di zanzare da analizzare, useremo proteomi, filogenesi, timetree, gene family evolution
ls -a (show tutti file)
nano .bashrc (apre impostazionibash)

alias didattica="ssh STUDENTI^luca.bolognini5@137.204.142.242" (didattica divemnta ssh)
didattica (psw non visibili quando scrivi)

crea nuova key ssh per workstation unibo in cui lavori
cat .ssh/id_ed25519.pub
creo key chimata didattica didatticaserver (ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIJOiwQFfB69Vmh5Re4+m90QdqOcIf70ML7XjhvfiBh1P lucabolo10@gmail.com)
git clone git@github.com:lucabolognini10/test.git
cd test/
mkdir 00 e 02

saimo in cartrella 02, ricerca reads e creazione link
ln -s /home/PERSONALE/mirko.martini3/Lab_CompGeno/00_practice/00_data/00_reads/SRR11672503_1.fastq.gz .
ln -s /home/PERSONALE/mirko.martini3/Lab_CompGeno/00_practice/00_data/00_reads/SRR11672503_2.fastq.gz . #creo link, . inidca qui
ll (link path)
conda activate
conda activate assembly #ingresso enviroment assembly
```bash
#assembly
fastqc SRR11672503_1.fastq.gz SRR11672503_2.fastq.gz #controllo qualità reads

nano .bashrc
if [ -f ~/.bash_aliases ]; then  . ~/.bash_aliases fi #from teams
nano .bash_aliases
cat .bash_aliases
source .bashrc #ho creato un alias permamente per didattica scritto su nano
tmux new -s general #lavorare in screen, ciio che è qui continua a lavorare dopo logout
ctrl+ a , c apre new window--
conda activate assembly #trimmomatic è in assembly
trimmomatic PE -threads 8 -phred33 SRR11672503_1.fastq.gz SRR11672503_2.fastq.gz SRR11672503_1_paired.fastq SRR11672503_1_unpaired.fastq SRR11672503_2_paired.fastq SRR11672503_2_unpaired.fastq ILLUMINACLIP:/opt/miniforge3/envs/assembly/share/trimmomatic-0.40-0/adapters/TruSeq3-PE.fa:2:30:10 LEADING:3 TRAILING:3 SLIDINGWINDOW:4:15 MINLEN:36 2> stats_trimmomatic.log
conda activate kat
kat hist -t 8 -m 27 -o Anoste SRR11672503_1_paired.fastq SRR11672503_2_paired.fastq

git config --global user.email "lucabolo10@gmail.com"
git add SRR11672503_1_fastqc.html
git add SRR11672503_2_fastqc.html
git add Anoste.hist Anoste.png
git commit -m "genome survey" #creates a new a commit 
git pull --rebase #pull any changes from online repositories
git push #push any new commit

03_genome_assembly
mkdir 03_genomeassembly
cd 03_genomeassembly/
mkdir 00_row #dentro 03, inoltre ci entro
cd 00_row/
conda activate assembly
tmux ls # lista screen, screen mantengono attivi proceessi, lavora sempre nello stesso luogo fisico
tmux a -t general #entro in screen, di seguito entro in 03/00 e attivo assembly
ln -s /home/PERSONALE/mirko.martini3/Lab_CompGeno/00_practice/00_data/00_reads/SRR11672506.fastq.gz #recupero tramkite link
wtdbg2 -x rs -g <EXPECTED_GENOMESIZE> -t <NUMBERS_OF_CORES> -i <FASTQ> -fo <OUT_PREFIX> #Default parameters cerca quelli usati  wtdbg2 -x rs -g 227054799 -t 8 -i SRR11672506.fastq.gz -fo Anoste_raw
wtpoa-cns -t 7 -i Anoste_raw.ctg.lay.cz -fo Anoste_raw

head Anoste raw #vede header
mv Anoste_raw Anoste_raw.fasta
assembly-stats Anoste_raw.fasta > Anoste_raw.stats #n50 lunhgezza 5 che contengono ppiu 50% basi totali, è inidcato il piu piccolo tra questi 5. n50 è una metrca un po manipolabile. N count indica nucleotidi non conosciuti, n50, parametro di contiguità
cat # caratteristiche
conda activate sequence
ctrl+a, c

export NUMEXPR_MAX_THREADS=80          
less -S Anoste_raw.fasta #vedere se una linea o piu busco dont like one line
busco --help | less #helper, q per uscire
fold -w <n_characters> <input.fasta> > <output.fasta> #crea multiline
torno in 1: busco -m geno -l $BUSCO/culicidae_odb12 -c 6 -o Anoste_raw.busco -i Anoste_raw.fasta #faccio correre busco

#trasformare sam file in bam file binario meno pesante
nano mapping.sh # ora siamo in screen 2
bash mapping.sh #faccio correre lo script che ho scritto

#screen 3
ln -s /home/PERSONALE/mirko.martini3/Lab_CompGeno/00_practice/02_KmerBased_GenomeSurvey/SRR11672503_1_paired.fastq
ln -s /home/PERSONALE/mirko.martini3/Lab_CompGeno/00_practice/02_KmerBased_GenomeSurvey/SRR11672503_2_paired.fastq #nuovi link da inserire in scrren 2

#new day POLISHING 01_polishing

mv Anoste_raw_lr* ../01_polishing/ #creo nuova cartella 01_polishing e qui vis sposto lr e sr
mv Anoste_raw_sr* ../01_polishing/
mosdepth -n --fast-mode --by 500 Anoste_raw_sr Anoste_raw_sr_sorted.bam
# calcolo coverage media sommando e divindendo per il numero di coverage
ln -s /home/STUDENTI/luca.bolognini5/test/03_genomeassembly/00_row/Anoste_raw.fasta #link to mio ansote fasta
R1=/home/PERSONALE/mirko.martini3/Lab_CompGeno/00_practice/02_KmerBased_GenomeSurvey/SRR11672503_1_paired.fastq
R2=/home/PERSONALE/mirko.martini3/Lab_CompGeno/00_practice/02_KmerBased_GenomeSurvey/SRR11672503_2_paired.fastq
echo -e "$R1\n$R2" > Sr.path
hypo -d Anoste_raw.fasta -r @Sr.path -s 227054799 -c 136 -b Anoste_raw_sr_sorted.bam -B Anoste_raw_lr_sorted.bam -t 6

new day cartel 01polish
mv hypo_Anoste_raw.fasta Anoste_pol.fasta #rinomina file
ln -s /home/PERSONALE/mirko.martini3/Lab_CompGeno/00_practice/02_KmerBased_GenomeSurvey/SRR11672503_1_paired.fastq
ln -s /home/PERSONALE/mirko.martini3/Lab_CompGeno/00_practice/02_KmerBased_GenomeSurvey/SRR11672503_2_paired.fastq #scarico link in 01
#esegui busco verso diptera, controllosia mutliline
busco -m geno -l $BUSCO/culicidae_odb12 -c 6 -o Anoste_pol.busco -i Anoste_pol.fasta #faccio correre busco
kat comp -t 8 -o Anoste_pol 'SRR11672503_1_paired.fastq SRR11672503_2_paired.fastq' Anoste_pol.fasta

#decontaminzaione reads new cartel 02
muovo assembly, srr e anoste_pol
#short reads


minimap2 --secondary=no --MD -ax sr -t 8 Anoste_pol.fasta SRR11672503_1_paired.fastq SRR11672503_1_paired.fastq | samtools view -Sb - > Anoste_pol_sr.bam
samtools sort -@8 -o Anoste_pol_sr_sorted.bam Anoste_pol_sr.bam
samtools index Anoste_pol_sr_sorted.bam
rm Anoste_pol_sr.bam #in nano
conda activate assembly #per minimap
bash mapping2.sh
